<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<div class="text-things">
    <h1> Who is the greatest footballer between 2016 to 2020(Best FIFA Men's Player)?</h1>
	<p> Football was first played in 1869 and world has seen many great footballers over the years, 
	     We all have a question in the mind, who is the best footballer now. Surprisingly, there are not many 
		rating system developed to answer this question. We have created the platform on the basis of performance 
		between 2016 to 2020. This framework is based on reference from follwoing link.
		(<a href="https://en.wikipedia.org/wiki/The_Best_FIFA_Men%27s_Player">reference</a>)
		
	</p>   
</div>
<div id="fifa_ranking">
<h3> FIFA Ranking of greatest footballer(2016-2020)... </h3> 
<script>
	var columns = [
		{src:"https://pgambhir88.github.io/ronaldo.jpg"}, 
		{src:"https://pgambhir88.github.io/messi.jpg"}, 
		{src:"https://pgambhir88.github.io/robert.jpg"},
		{src:"https://pgambhir88.github.io/Edin.jpg"},
		{src:"https://pgambhir88.github.io/ciro.jpg"},
	];
	
	var ranking = [ "1.Cristiano Ronaldo", 
					"2.Lionel Messi",
					"3.Robert Lewandowski",
					"4.Edin Dzeko",
					"5.Ciro Immobile"]
	var points =["751","744","587","583","534"]
	
	/*const data = await d3.csv(
		'https://pgambhir88.github.io/best_footballer_v2.csv');*/

	var table = d3.select("#fifa_ranking").append('table');
	var thead = table.append('thead');

	thead.append('tr')
		.selectAll('th')
		.data(columns)
		.enter()
		.append('th')
		.append('img')
		.attr('src', function(d) {
			return d.src;
		});
		
	thead.append('tr')
		.selectAll('th')
		.data(ranking)
		.enter()
        .append("td")
        .text(function(d) {return d;});
		
	thead.append('tr')
		.selectAll('th')
		.data(points)
		.enter()
        .append("td")
        .text(function(d) {return d;});
		

</script>

</div>

<!-- Create a div where the button will reside -->
<!--<div class="buttons">
    <button value = "byHundredRun" onclick="byRunsHundreds()">By runs & hundreds scored</button>   
	<button value = "byHundredRunAvg" onclick="byAvgRunsHundreds()">By avg, runs & hundreds scored</button> 
	<button value = "byAll" onclick="byAll()">By conversion, avg, runs & hundreds scored</button> 
</div>-->

<div class="text-things">
		<p>FIFA has published the ranking year on year on basis of certain creteria but everyone is not convinced on their ranking system so we have picked up 
			data from 2016 to 2020 and on the basis of maximum number of Runs, goals, matches played and on average basis we have calculated the 
			player's ranking. .</p>
	   
		<p>So, below is a tool for the fans to explore on their own and support their argument
		with data. In this we picked up data of all the players and calculated the ranking on basis of above mentioned criteria.</p>
	
		<p><b>We are confident you will gain different perspective driven by data as you 
		add the parameters progressively using <i>the dropdown provided below,</i></b></p>
</div>
  
<style> circle {fill: lightblue; stroke: black;} </style>
<body onload='init()'>
<svg width=900 height=900>
</svg>

  
  <script>
async function init() {

// Your code here
    var margin = 50;
    var width = 900;
    var height = 900;
   
    var svg = d3.select("svg")
      .attr("width", width + 2 * margin)
      .attr("height", height + 2 * margin);
   
    var x = d3.scaleLog().domain([5,751]).range([0, 900]);
var y = d3.scaleLog().domain([2,135]).range([900, 0]);
   
    var y_axis = d3.axisLeft().scale(y)
        .tickValues([10, 50, 100, 250])
        .tickFormat(d3.format("~s"));
   
    var x_axis = d3.axisBottom().scale(x)
        .tickValues([50,250,400,650])
        .tickFormat(d3.format("~s"));
   
    const data = await d3.csv('https://pgambhir88.github.io/best_footballer_v2.csv');
   
    svg.append("g").attr("transform", "translate(" + margin + "," + margin + ")")
      .selectAll("circle")
      .data(data)
      .enter()
      .append("circle")
        .attr("cx", function(d) { return (x(d.Shots)); })
        .attr("cy", function(d) { return (y(d.Goals)); })
        .attr("r", function(d) { return (Number(2) + Number(d.Avg_1)); });
       
    d3.select("svg").append("g")
.attr("transform", "translate(" + margin + "," + margin + ")")
        .call(y_axis);
 
d3.select("svg").append("g")
.attr("transform", "translate(" + margin + "," + (height + margin) + ")")
        .call(x_axis);


// Your code ends here
}
</script>
</body>
</html>
  
